opam-version: "2.0"
synopsis: "APRON numerical abstract domain library"
authors: [
  "Bertrand Jeannet"
  "Antoine Min√©"
  "https://github.com/antoinemine/apron/graphs/contributors"
]
license: "LGPL-2.1 with linking exception"
homepage: "http://apron.cri.ensmp.fr/library/"
maintainer: "Nicolas Berthier <m@nberth.space>"
dev-repo: "git+https://github.com/antoinemine/apron.git"
bug-reports: "https://github.com/antoinemine/apron/issues"
build: [
  [
    "sh"
    "./configure"
    "--prefix"
    "%{share}%/apron"
    "--no-ppl" {!conf-ppl:installed}
    "--no-ocaml-plugins" {os = "freebsd"}
    "--absolute-dylibs" {os = "macos"}
    "--ext-dll" {os = "win32"} "dll" {os = "win32"}
  ]
  [make "-j%{jobs}%"]
]
install: [
  [make "install"]
]
remove: [
  ["ocamlfind" "remove" "apron"]
  ["rm" "-r" "-f" "%{share}%/apron"]
]
depends: [
  "ocaml"
  "ocamlfind"
  "camlidl"
  "mlgmpidl"
  "ocamlbuild" {build}
  "conf-perl"
]
depopts: [
  "conf-ppl"
]
flags: light-uninstall
url {
  src: "https://github.com/antoinemine/apron/archive/import-svn1104.tar.gz"
  checksum: [
    "md5=1209ae20455fa6ceeb55a53658e59b15"
    "sha512=c757d5666bbfa94eacdc36a4488d5650db4d61c3610005660057a089387d3bd07627fc6142caefdcaa21717738db4f03687d13b5f069c603b828602a85d642dd"
  ]
}
